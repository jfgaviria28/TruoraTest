# RAG Document: `raw_google_ads.csv`

## 1. Source Description & Gist

- **File Name**: `raw_google_ads.csv`
- **Data Source**: Simulates daily advertising performance data from **Google Ads**.
- **High-Level Purpose**: This file tracks daily spend and performance for search advertising campaigns. It's essential for understanding which campaigns are driving clicks from Google Search and for calculating the effectiveness of those campaigns.
- **Agent's Primary Goal**: To ingest and clean this data, paying special attention to its unique date format, column naming convention, and non-standard null values. The agent must standardize this data before it can be unified with other ad platform data.

## 2. File Structure & Schema

### Clean Data Profile

In "clean" mode, the file schema is consistent with the other ad platforms.

- **Location**: `data/raw_google_ads.csv`
- **Schema**:
    - `event_date`: `DATE`, Standard ISO format (`YYYY-MM-DD`).
    - `campaign_id`: `TEXT`, Standard snake_case name.
    - `cost_usd`: `DECIMAL`, Standard name and USD currency.
    - `impressions`: `INTEGER`
    - `clicks`: `INTEGER`

- **Generation Logic**: The base data is generated by the same `build_ads()` function as the other platforms, containing **1,800 rows** with logically correlated metrics.

### Realistic Data Profile (with Entropy)

When generated in "realistic" mode, `add_entropy.py` applies several transformations to make the data more challenging to process.

- **Key Transformations**:
    1.  **Date Format Change**: The `date` column is converted from the standard `YYYY-MM-DD` to the US-specific `MM/DD/YYYY` format.
    2.  **Column Name Convention**: Columns are renamed to `camelCase`.
        - `campaign_id` → `campaignId`
        - `cost_usd` → `spend`
        - `date` → `date` (name remains but format changes)
    3.  **Non-Standard Nulls**: For a random **4% of rows**, the `clicks` value is replaced with the string `'--'`, simulating a common issue in exported reports where low-performance metrics are represented as dashes.

- **Resulting Realistic Schema**:
    - `date`: `TEXT`, Contains dates in `MM/DD/YYYY` format.
    - `campaignId`: `TEXT`
    - `spend`: `DECIMAL`
    - `impressions`: `INTEGER`
    - `clicks`: `TEXT` (data type changes to accommodate `'--'`)

- **Example of Realistic Data**:

  | date       | campaignId | spend  | impressions | clicks |
  |------------|------------|--------|-------------|--------|
  | 05/20/2025 | CID_f9e8d7 | 85.34  | 3463        | 108    |
  | 05/21/2025 | CID_a1b2c3 | 93.75  | 2541        | --     |
  | 05/22/2025 | CID_c4d5e6 | 102.11 | 4188        | 128    |

## 3. Key Challenges & Instructions for AI Agent

1.  **Column Name Mapping**: The agent's first step must be to map the realistic column names back to the standard, internal schema.
    - `date` → `event_date`
    - `campaignId` → `campaign_id`
    - `spend` → `cost_usd`
    - `impressions` → `impressions`
    - `clicks` → `clicks`
2.  **Date Parsing**: The agent must recognize the `MM/DD/YYYY` format in the `event_date` column and parse it correctly, converting it to the standard `YYYY-MM-DD` format for unification with other data sources. Standard date parsing libraries should handle this automatically if the format is identified.
3.  **Handling Non-Standard Nulls**: The agent must scan the `clicks` column for non-numeric values like `'--'`. These should be treated as `NULL` or `0`. After cleaning, the column's data type should be converted from `TEXT`/`OBJECT` to `INTEGER`. A safe approach is to replace `'--'` with `0` or `NULL` and then cast the column.
4.  **No Currency or Major Schema Issues**: Unlike other sources, this file is consistently in USD and does not have complex structural changes like the `cost_per_click` issue in the Facebook data. The primary challenges are formatting and naming conventions.
5.  **Final Schema**: After cleaning and standardization, the resulting data frame should have the standard columns (`event_date`, `campaign_id`, `cost_usd`, `impressions`, `clicks`) and data types, making it ready for unification. 